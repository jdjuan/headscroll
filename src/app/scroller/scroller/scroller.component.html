<div class="spinner" *ngIf="isLoading">
  <p>We're getting things ready for you...</p>
  <div class="spinner-border" role="status">
    <span class="sr-only">Loading...</span>
  </div>
</div>
<div class="container-fluid" [class.hide]="isLoading" *ngIf="!isLoading">
  <div class="row align-items-center header">
    <div class="col-lg-2 header-left">
      <h1 class="logo">
        <a routerLink="/">HeadScroll.io <span class="bold bg-beta rounded px-1">beta</span></a>
      </h1>
      <button *ngIf="isMobile" class="btn config-button" (click)="openConfig()"><i class="bi bi-gear-fill"></i></button>
    </div>
    <div class="col-lg-10 text-right">
      <app-search-field [isCompactVersion]="true" (search)="searchWebsite($event)" (fail)="onSearchFail()" [url]="website"></app-search-field>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-2" *ngIf="!isMobile">
      <app-config></app-config>
      <app-camera (scrolling)="onScroll($event)"></app-camera>
    </div>
    <div class="col-lg-10 content" >
      <app-camera *ngIf="isMobile" (scrolling)="onScroll($event)"></app-camera>
      <div #iframeWrapper class="iframe-wrapper" [style.height.px]="defaultIframeHeight" [class.mobile]="isMobile">
        <iframe class="iframe" [src]="websiteSafeUrl" [height]="iframeHeight"></iframe>
        <div class="error-message text-center" *ngIf="hasSearchFailed">
          <h2 class="display-3 text-alpha">We cannot display this website</h2>
          <picture>
            <source srcset="assets/error.webp" type="image/webp" />
            <img width="100%" src="assets/error.jpg" alt="Woman concerned holding a megaphone" />
          </picture>
        </div>
      </div>
    </div>
  </div>
</div>
